document.addEventListener("DOMContentLoaded",function(){"use strict";var e=!1;("ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0)&&(document.body.classList.add("touch"),e=!0);var t,n,o,a,l,i,r=100,c=5e3,d=50,s=2;function u(){t=Math.max(r,t-d),h()}function m(){t=Math.min(c,t+d),h()}function f(e,t,n=!1){var o,a=n?Math.ceil(e):Math.round(e);return String(a).length>t&&(o=Math.pow(10,String(a).length-t),a=n?Math.ceil(a/o)*o:Math.round(a/o)*o),a}function h(){var e,d,u,m,h,y,p,g,b,v=t*recipeBaseRatio;for(e in i.textContent=t,Array.from(n).forEach(e=>{e.disabled=t===c}),Array.from(o).forEach(e=>{e.disabled=t===r}),ingredients)ingredients[e].qty=v*ingredients[e].ratio/100;for(e=0;e<a.length;e++)m=a[e].dataset.qty.split(".")[0],b=!1,u=a[e].dataset.mult?+a[e].dataset.mult:1,ingredients[m]&&(d=ingredients[m].qty),"volume"===m&&(b=!0,d="base"===(h=a[e].dataset.qty.split(".")[1])?t:"ml"===ingredients[h].units?ingredients[h].qty:ingredients[h].qty/ingredients[h].spec),"containers"===m&&(b=!0,y=+a[e].dataset.qty.split(".")[1],d=t/y),d=f(d*u,a[e].dataset.prec||s,b),a[e].textContent=d;for(e=0;e<l.length;e++)p=l[e].dataset.plural.split(".")[0],g=l[e].dataset.plural.split(".")[1].split("-"),d=f(ingredients[p].qty),l[e].textContent=g[d>1?1:0]}var y,p,g,b=5,v=document.querySelector("article"),w=document.querySelectorAll("section"),q=document.querySelectorAll(".navdots li"),E=Array.from(w).map(e=>e.id),k=document.getElementById("btn-prev"),A=document.getElementById("btn-next");function S(e,t){clearInterval(g),g=setTimeout(function(){clearInterval(g),g=null},1e3),e.scrollIntoView({behavior:"smooth"}),window.history.replaceState(null,null,t)}function L(e){M(e),S(document.getElementById(E[e-1]),"#"+E[e-1])}function M(e){k.disabled=!(e>1),Array.from(q).forEach(e=>{e.classList.remove("selected")}),q[e-1].classList.add("selected")}function B(){var e=C(1);e.label&&(M(e.num),S(document.getElementById(e.label),"#"+e.label))}function x(){var e=C(-1);e.label&&(M(e.num),S(document.getElementById(e.label),"#"+e.label))}function C(e=0){for(var t=0;t<b&&y.scrollTop>w[t].offsetTop-p/2;)t++;return{num:t+e,label:t+e>0&&t+e<=b?E[t-1+e]:""}}function I(){var e=C(),t=location.hash;e.num<=b?(v.className="section"+e.num,g||t=="#"+e.label||(window.history.replaceState(null,null,"#"+e.label),M(e.num)),A.disabled=e.num>=b):(g||""==t||window.history.replaceState(null,null," "),A.disabled=!0)}function R(){y&&(y.onscroll=null),window.onscroll=null,document.querySelector("nav").offsetWidth<=64?(y=document.querySelector(".main"),p=y.offsetHeight,y.onscroll=I):(y=document.documentElement,p=window.innerHeight,window.onscroll=I),I()}function T(){if(R(),window.onresize=R,A.addEventListener("click",B),k.addEventListener("click",x),A.disabled=!1,location.hash){var e=C();v.className="section"+e.num,M(e.num)}else M(1)}function D(){let e=document.createElement("div");e.classList.add("tooltip"),e.innerHTML=this.dataset.tooltip,document.body.appendChild(e);let t=this.getBoundingClientRect(),n=e.getBoundingClientRect(),o=t.top+(t.height-n.height)/2,a=t.left-n.width-2;a<0&&(a=t.right+2),e.style.top=o+"px",e.style.left=a+"px"}function P(){Array.from(document.querySelectorAll(".tooltip")).forEach(e=>{document.body.removeChild(e)})}e||Array.from(document.querySelectorAll("[data-tooltip]")).forEach(e=>{e.addEventListener("mouseenter",D),e.addEventListener("mouseleave",P)}),w.length&&(t=recipeBase.qty,"undefined"!=typeof recipeRange&&(r=recipeRange[0],c=recipeRange[1],d=recipeRange[2]),"undefined"!=typeof recipePrecision&&(s=recipePrecision),a=document.querySelectorAll("[data-qty]"),l=document.querySelectorAll("[data-plural]"),i=document.getElementById("qtyValue"),n=document.querySelectorAll(".btn-icon-plus"),o=document.querySelectorAll(".btn-icon-minus"),Array.from(n).forEach(e=>{e.addEventListener("click",m)}),Array.from(o).forEach(e=>{e.addEventListener("click",u)}),h(),e||(document.onkeydown=function(e){switch((e=e||window.event).keyCode){case 8:document.location="/";break;case 37:case 38:e.preventDefault(),x();break;case 39:case 40:e.preventDefault(),B();break;case 32:case 9:e.preventDefault(),C().num>b-1?L(1):B();break;case 49:L(1);break;case 50:L(2);break;case 51:L(3);break;case 52:L(4);break;case 53:L(5);break;case 189:u();break;case 187:m()}}),location.hash?(location=location.hash,setTimeout(function(){T()},1e3)):T())});