document.addEventListener("DOMContentLoaded",function(){"use strict";var n=document.querySelector(".sidebar"),e=n.querySelectorAll("li .btn"),t=0;function o(){t=0,Array.from(n.querySelectorAll("li")).forEach((n,e)=>{n.classList.contains("selected")&&(t=e)}),i(),window.addEventListener("click",c),n.classList.add("open")}function c(){window.removeEventListener("click",c),n.classList.remove("open")}function i(){e[t].focus()}window.sidebar={enable:function(){Array.from(document.querySelectorAll(".btn-mainnavopen")).forEach(n=>{n.addEventListener("click",function(n){n.preventDefault(),n.stopPropagation(),o()})}),Array.from(document.querySelectorAll(".btn-mainnavclose")).forEach(n=>{n.addEventListener("click",function(n){n.preventDefault(),n.stopPropagation(),c()})}),n.addEventListener("click",function(n){n.stopPropagation()})},open:o,close:c,goUp:function(){t>0&&(t--,i())},goDown:function(){t<e.length-1&&(t++,i())},isOpen:function(){return n.classList.contains("open")}}});document.addEventListener("DOMContentLoaded",function(){"use strict";var e,t,n,i,r,a,d=100,o=5e3,c=50,s=2;function l(){e=Math.max(d,e-c),y()}function u(){e=Math.min(o,e+c),y()}function p(e,t,n=!1){var i,r=n?Math.ceil(e):Math.round(e);return String(r).length>t&&(i=Math.pow(10,String(r).length-t),r=n?Math.ceil(r/i)*i:Math.round(r/i)*i),r}function y(){var c,l,u,y,f,g,m,q,h,v=e*recipeBaseRatio;for(c in a.textContent=e,Array.from(t).forEach(t=>{t.disabled=e===o}),Array.from(n).forEach(t=>{t.disabled=e===d}),ingredients)ingredients[c].qty=v*ingredients[c].ratio/100;for(c=0;c<i.length;c++)y=i[c].dataset.qty.split(".")[0],h=!1,u=i[c].dataset.mult?+i[c].dataset.mult:1,ingredients[y]&&(l=ingredients[y].qty),"volume"===y&&(h=!0,l="base"===(f=i[c].dataset.qty.split(".")[1])?e:"ml"===ingredients[f].units?ingredients[f].qty:ingredients[f].qty/ingredients[f].spec),"containers"===y&&(h=!0,g=+i[c].dataset.qty.split(".")[1],l=e/g),l=p(l*u,i[c].dataset.prec||s,h),i[c].textContent=l;for(c=0;c<r.length;c++)m=r[c].dataset.plural.split(".")[0],q=r[c].dataset.plural.split(".")[1].split("-"),l=p(ingredients[m].qty),r[c].textContent=q[l>1?1:0]}window.quantity={setup:function(){e=recipeBase.qty,"undefined"!=typeof recipeRange&&(d=recipeRange[0],o=recipeRange[1],c=recipeRange[2]),"undefined"!=typeof recipePrecision&&(s=recipePrecision),i=document.querySelectorAll("[data-qty]"),r=document.querySelectorAll("[data-plural]"),a=document.getElementById("qtyValue"),t=document.querySelectorAll(".btn-icon-plus"),n=document.querySelectorAll(".btn-icon-minus"),Array.from(t).forEach(e=>{e.addEventListener("click",u)}),Array.from(n).forEach(e=>{e.addEventListener("click",l)}),y()},add:u,remove:l}});document.addEventListener("DOMContentLoaded",function(){"use strict";var e,n,o,l=document.querySelectorAll("section").length,t=document.querySelector("article"),r=document.querySelectorAll("section"),c=document.querySelectorAll(".navdots li"),a=Array.from(r).map(e=>e.id),i=document.querySelectorAll(".btn-prev"),u=document.querySelectorAll(".btn-next");function d(e,n){clearInterval(o),o=setTimeout(function(){clearInterval(o),o=null},1e3),(e=e||document.querySelector(".recipeheader")).scrollIntoView({behavior:"smooth"}),window.history.replaceState(null,null,"#"!==n?n:" ")}function m(e){s(e),d(document.getElementById(a[e-1]),"#"+a[e-1])}function s(e){Array.from(i).forEach(n=>{n.disabled=1===e}),Array.from(c).forEach(e=>{e.classList.remove("selected")}),e>0&&c[e-1].classList.add("selected")}function f(){var e=y(1);e.num<=l?(s(e.num),d(document.getElementById(e.label),"#"+e.label)):d(document.querySelector(".recipefooter"),"#"+e.label)}function h(){var e=y(-1);e.num>0&&(s(e.num),d(document.getElementById(e.label),"#"+e.label))}function y(o=0){for(var t=1;t<l&&e.scrollTop>r[t].offsetTop-n/2;)t++;return{num:t+o,label:t+o>0&&t+o<=l?a[t-1+o]:""}}function w(){var n=y(),r=location.hash;if(n.num<=l){if(t.className="section"+n.num,!o&&r!="#"+n.label){var c="#"+n.label;window.history.replaceState(null,null,"#"!==c?c:" "),s(n.num)}Array.from(u).forEach(o=>{o.disabled=n.num>=l&&window.innerHeight+e.scrollTop>=e.scrollHeight-5})}else o||""==r||window.history.replaceState(null,null," "),Array.from(u).forEach(e=>{e.disabled=!0})}function v(){e&&(e.onscroll=null),window.onscroll=null,document.documentElement.scrollHeight===window.innerHeight?(e=document.querySelector(".main"),n=e.offsetHeight,e.onscroll=w):(e=document.documentElement,n=window.innerHeight,window.onscroll=w),w()}window.nav={setup:function(){if(v(),window.onresize=v,Array.from(u).forEach(e=>{e.addEventListener("click",f)}),Array.from(i).forEach(e=>{e.addEventListener("click",h)}),Array.from(u).forEach(e=>{e.disabled=!1}),location.hash){var e=y();t.className="section"+e.num,s(e.num)}else s(1)},prev:h,next:f,cycle:function(){y().num>l-1?m(1):f()},go:m,isEnabled:function(){return l>0}}});document.addEventListener("DOMContentLoaded",function(){"use strict";window.getKey=function(e){var n=(e=e||window.event).key;switch(n){case"Tab":e.preventDefault(),window.sidebar.isOpen()?window.sidebar.close():window.sidebar.open();break;case"ArrowUp":case"ArrowLeft":e.preventDefault(),window.sidebar.isOpen()?window.sidebar.goUp():window.nav.prev();break;case"ArrowDown":case"ArrowRight":e.preventDefault(),window.sidebar.isOpen()?window.sidebar.goDown():window.nav.next()}if(window.nav.isEnabled())switch(n){case" ":e.preventDefault(),window.nav.cycle();break;case"1":window.nav.go(1);break;case"2":window.nav.go(2);break;case"3":window.nav.go(3);break;case"4":window.nav.go(4);break;case"5":window.nav.go(5);break;case"-":window.quantity.remove();break;case"+":window.quantity.add()}}});document.addEventListener("DOMContentLoaded",function(){"use strict";function t(){let t=document.createElement("div");t.classList.add("tooltip"),t.innerHTML=this.dataset.tooltip,document.body.appendChild(t);let e=this.getBoundingClientRect(),o=t.getBoundingClientRect(),n=e.top+(e.height-o.height)/2,i=e.left-o.width+4;i<0&&(i=e.right-4),t.style.top=n+"px",t.style.left=i+"px"}function e(){Array.from(document.querySelectorAll(".tooltip")).forEach(t=>{document.body.removeChild(t)})}window.tooltips={setup:function(){Array.from(document.querySelectorAll("[data-tooltip]")).forEach(o=>{o.addEventListener("mouseenter",t),o.addEventListener("mouseleave",e)})}}});document.addEventListener("DOMContentLoaded",function(){"use strict";var n=!1;("ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0)&&(document.body.classList.add("touch"),n=!0),window.sidebar.enable(),window.nav.isEnabled()&&(window.quantity.setup(),location.hash?(location=location.hash,setTimeout(function(){window.nav.setup()},1e3)):window.nav.setup()),n||(window.tooltips.setup(),document.onkeydown=window.getKey)});