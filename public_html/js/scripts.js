document.addEventListener("DOMContentLoaded",function(){"use strict";("ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0)&&document.body.classList.add("touch");var e,t,n,a,o,i=100,c=5e3,l=50,r=2;function d(){e=Math.max(i,e-l),m()}function s(){e=Math.min(c,e+l),m()}function u(e,t){var n,a=Math.round(e);return String(a).length>t&&(n=Math.pow(10,String(a).length-t),a=Math.round(a/n)*n),a}function m(){var a,o,i,c,l,d=e*recipeBaseRatio;for(a in n.textContent=e,ingredients)ingredients[a].qty=d*ingredients[a].ratio/100;for(a=0;a<t.length;a++)c=t[a].dataset.qty.split(".")[0],i=t[a].dataset.mult?+t[a].dataset.mult:1,ingredients[c]&&(o=ingredients[c].qty),"volume"===c&&(o="base"===(l=t[a].dataset.qty.split(".")[1])?e:ingredients[l].qty/ingredients[l].spec),o=u(o*i,t[a].dataset.prec||r),t[a].textContent=o}var f,v=5,h=document.querySelector("article"),y=document.querySelectorAll("section"),g=document.querySelectorAll("nav a"),p=document.querySelector("footer"),b=document.getElementById("btn-prev"),w=document.getElementById("btn-next"),k=window.innerHeight;function q(e,t){clearInterval(f),f=setTimeout(function(){clearInterval(f),f=null},1e3),e.scrollIntoView({behavior:"smooth"}),window.history.replaceState(null,null,t)}function E(e){L(e),q(document.getElementById(g[e-1].text),"#"+g[e-1].text)}function L(e){for(var t=document.querySelectorAll("nav li"),n=0;n<t.length;n++)t[n].classList.remove("selected");t[e-1].classList.add("selected"),e>1?b.classList.remove("hidden"):b.classList.add("hidden")}function I(){var e,t,n=B(1);n.label?(L(n.num),e=document.getElementById(n.label),t="#"+n.label):(e=p,t=" "),q(e,t)}function S(){var e=B(-1);e.label&&(L(e.num),q(document.getElementById(e.label),"#"+e.label))}function B(e=0){for(var t=0;t<v&&document.documentElement.scrollTop>y[t].offsetTop-k/2;)t++;return document.documentElement.scrollTop+k-100>p.offsetTop&&(t=v+1),{num:t+e,label:t+e>0&&t+e<=v?g[t-1+e].text:""}}function x(){var e=B(),t=location.hash;e.num<=v?(h.className="section"+e.num,f||t=="#"+e.label||(window.history.replaceState(null,null,"#"+e.label),L(e.num)),w.classList.remove("hidden")):(f||""==t||window.history.replaceState(null,null," "),w.classList.add("hidden"))}function M(){k=window.innerHeight,x()}y.length&&(e=recipeBase.qty,"undefined"!=typeof recipeRange&&(i=recipeRange[0],c=recipeRange[1],l=recipeRange[2]),"undefined"!=typeof recipePrecision&&(r=recipePrecision),t=document.querySelectorAll("[data-qty]"),n=document.getElementById("qtyValue"),a=document.getElementById("qtyRemove"),o=document.getElementById("qtyAdd"),a.addEventListener("click",d),o.addEventListener("click",s),m(),function(){if(window.onresize=M,window.onscroll=x,function(){for(var e=0;e<g.length;e++)g[e].addEventListener("click",function(e){e.preventDefault(),E(+this.parentNode.dataset.num)})}(),L(1),w.addEventListener("click",I),b.addEventListener("click",S),w.classList.remove("hidden"),location.hash){var e=B();h.className="section"+e.num,L(e.num)}}(),document.onkeydown=function(e){switch((e=e||window.event).keyCode){case 37:e.preventDefault(),S();break;case 39:e.preventDefault(),I();break;case 32:case 9:e.preventDefault(),B().num>v?E(1):I();break;case 49:E(1);break;case 50:E(2);break;case 51:E(3);break;case 52:E(4);break;case 53:E(5);break;case 189:d();break;case 187:s();break;case 220:document.location="/"}})});