document.addEventListener("DOMContentLoaded",function(){"use strict";("ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0)&&document.body.classList.add("touch");var e,t,n,a,i,l,o=100,c=5e3,r=50,s=2;function d(){e=Math.max(o,e-r),f()}function u(){e=Math.min(c,e+r),f()}function m(e,t,n=!1){var a,i=n?Math.ceil(e):Math.round(e);return String(i).length>t&&(a=Math.pow(10,String(i).length-t),i=n?Math.ceil(i/a)*a:Math.round(i/a)*a),i}function f(){var i,l,o,c,r,d,u,f,y,h=e*recipeBaseRatio;for(i in a.textContent=e,ingredients)ingredients[i].qty=h*ingredients[i].ratio/100;for(i=0;i<t.length;i++)c=t[i].dataset.qty.split(".")[0],y=!1,o=t[i].dataset.mult?+t[i].dataset.mult:1,ingredients[c]&&(l=ingredients[c].qty),"volume"===c&&(y=!0,l="base"===(r=t[i].dataset.qty.split(".")[1])?e:"ml"===ingredients[r].units?ingredients[r].qty:ingredients[r].qty/ingredients[r].spec),"containers"===c&&(y=!0,d=+t[i].dataset.qty.split(".")[1],l=e/d),l=m(l*o,t[i].dataset.prec||s,y),t[i].textContent=l;for(i=0;i<n.length;i++)u=n[i].dataset.plural.split(".")[0],f=n[i].dataset.plural.split(".")[1].split("-"),l=m(ingredients[u].qty),n[i].textContent=f[l>1?1:0]}var y,h=5,g=document.querySelector(".main"),p=document.querySelector("article"),v=document.querySelectorAll("section"),b=document.querySelectorAll(".navdots li"),q=Array.from(v).map(e=>e.id),k=document.getElementById("btn-prev"),w=document.getElementById("btn-next"),E=g.offsetHeight;function L(e,t){clearInterval(y),y=setTimeout(function(){clearInterval(y),y=null},1e3),e.scrollIntoView({behavior:"smooth"}),window.history.replaceState(null,null,t)}function I(e){S(e),L(document.getElementById(q[e-1]),"#"+q[e-1])}function S(e){e>1?k.classList.remove("hidden"):k.classList.add("hidden"),Array.from(b).forEach(e=>{e.classList.remove("selected")}),b[e-1].classList.add("selected")}function B(){var e=x(1);e.label&&(S(e.num),L(document.getElementById(e.label),"#"+e.label))}function M(){var e=x(-1);e.label&&(S(e.num),L(document.getElementById(e.label),"#"+e.label))}function x(e=0){for(var t=0;t<h&&g.scrollTop>v[t].offsetTop-E/2;)t++;return{num:t+e,label:t+e>0&&t+e<=h?q[t-1+e]:""}}function A(){var e=x(),t=location.hash;e.num<=h?(p.className="section"+e.num,y||t=="#"+e.label||(window.history.replaceState(null,null,"#"+e.label),S(e.num)),e.num<=h-1&&w.classList.remove("hidden")):(y||""==t||window.history.replaceState(null,null," "),w.classList.add("hidden"))}function R(){E=g.offsetHeight,A()}v.length&&(e=recipeBase.qty,"undefined"!=typeof recipeRange&&(o=recipeRange[0],c=recipeRange[1],r=recipeRange[2]),"undefined"!=typeof recipePrecision&&(s=recipePrecision),t=document.querySelectorAll("[data-qty]"),n=document.querySelectorAll("[data-plural]"),a=document.getElementById("qtyValue"),i=document.getElementById("qtyRemove"),l=document.getElementById("qtyAdd"),i.addEventListener("click",d),l.addEventListener("click",u),f(),function(){if(g.onresize=R,g.onscroll=A,S(1),w.addEventListener("click",B),k.addEventListener("click",M),w.classList.remove("hidden"),location.hash){var e=x();p.className="section"+e.num,S(e.num)}}(),document.onkeydown=function(e){switch((e=e||window.event).keyCode){case 8:document.location="/";break;case 38:e.preventDefault(),M();break;case 40:e.preventDefault(),B();break;case 32:case 9:e.preventDefault(),x().num>h-1?I(1):B();break;case 49:I(1);break;case 50:I(2);break;case 51:I(3);break;case 52:I(4);break;case 53:I(5);break;case 189:d();break;case 187:u()}})});