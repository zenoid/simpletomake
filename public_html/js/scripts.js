document.addEventListener("DOMContentLoaded",function(){"use strict";("ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0)&&document.body.classList.add("touch");var e,t,n,i,o,c,a=100,r=1e4,l=100,d=2,s=!1;function u(){s?recipeUnits=Math.max(a,recipeUnits-l):recipeVolume=Math.max(a,recipeVolume-l),f()}function m(){s?recipeUnits=Math.min(r,recipeUnits+l):recipeVolume=Math.min(r,recipeVolume+l),f()}function p(e,t){var n,i=Math.round(e);return String(i).length>t&&(n=Math.pow(10,String(i).length-t),i=Math.round(i/n)*n),i}function f(){var o,c;for(o in s?(recipeVolume=t*recipeUnits,recipeWeight=recipeVolume*e,i.textContent=recipeUnits):(recipeWeight=recipeVolume*e,i.textContent=recipeVolume),ingredients)c=p(recipeWeight*ingredients[o].ratio/100,d),ingredients[o].qty=c;for(o=0;o<n.length;o++)ingredients[n[o].dataset.qty]&&(c=ingredients[n[o].dataset.qty].qty,n[o].dataset.prec&&(c=p(c,n[o].dataset.prec)),n[o].textContent=c),"volume"===n[o].dataset.qty&&(n[o].textContent=recipeVolume),"units"===n[o].dataset.qty&&(n[o].textContent=recipeUnits)}var h,v=5,g=document.querySelector("article"),y=document.querySelectorAll("section"),b=document.querySelectorAll("nav a"),w=document.querySelector("footer"),k=document.getElementById("btn-prev"),q=document.getElementById("btn-next"),E=window.innerHeight;function L(e,t){clearInterval(h),h=setTimeout(function(){clearInterval(h),h=null},1e3),e.scrollIntoView({behavior:"smooth"}),window.history.replaceState(null,null,t)}function x(e){V(e),L(document.getElementById(b[e-1].text),"#"+b[e-1].text)}function V(e){for(var t=document.querySelectorAll("nav li"),n=0;n<t.length;n++)t[n].classList.remove("selected");t[e-1].classList.add("selected"),e>1?k.classList.remove("hidden"):k.classList.add("hidden")}function I(){var e,t,n=M(1);n.label?(V(n.num),e=document.getElementById(n.label),t="#"+n.label):(e=w,t=" "),L(e,t)}function S(){var e=M(-1);e.label&&(V(e.num),L(document.getElementById(e.label),"#"+e.label))}function M(e=0){for(var t=0;t<v&&document.documentElement.scrollTop>y[t].offsetTop-E/2;)t++;return document.documentElement.scrollTop+E-100>w.offsetTop&&(t=v+1),{num:t+e,label:t+e>0&&t+e<=v?b[t-1+e].text:""}}function U(){var e=M(),t=location.hash;e.num<=v?(g.className="section"+e.num,h||t=="#"+e.label||(window.history.replaceState(null,null,"#"+e.label),V(e.num)),q.classList.remove("hidden")):(h||""==t||window.history.replaceState(null,null," "),q.classList.add("hidden"))}function B(){E=window.innerHeight,U()}y.length&&(s="undefined"!=typeof recipeUnits,e=recipeWeight/recipeVolume,s&&(t=recipeVolume/recipeUnits,a=1,r=100,l=1),"undefined"!=typeof recipeRange&&(a=recipeRange[0],r=recipeRange[1],l=recipeRange[2]),"undefined"!=typeof recipePrecision&&(d=recipePrecision),n=document.querySelectorAll("[data-qty]"),i=document.getElementById("qtyValue"),o=document.getElementById("qtyRemove"),c=document.getElementById("qtyAdd"),o.addEventListener("click",u),c.addEventListener("click",m),f(),function(){if(window.onresize=B,window.onscroll=U,function(){for(var e=0;e<b.length;e++)b[e].addEventListener("click",function(e){e.preventDefault(),x(+this.parentNode.dataset.num)})}(),V(1),q.addEventListener("click",I),k.addEventListener("click",S),q.classList.remove("hidden"),location.hash){var e=M();g.className="section"+e.num,V(e.num)}}(),document.onkeydown=function(e){switch((e=e||window.event).keyCode){case 37:e.preventDefault(),S();break;case 39:e.preventDefault(),I();break;case 32:case 9:e.preventDefault(),M().num>v?x(1):I();break;case 49:x(1);break;case 50:x(2);break;case 51:x(3);break;case 52:x(4);break;case 53:x(5);break;case 189:u();break;case 187:m();break;case 220:document.location="/"}})});