document.addEventListener("DOMContentLoaded",function(){"use strict";("ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0)&&document.body.classList.add("touch");var e,t,n,o,a,l,i=100,r=5e3,c=50,d=2;function s(){e=Math.max(i,e-c),f()}function u(){e=Math.min(r,e+c),f()}function m(e,t,n=!1){var o,a=n?Math.ceil(e):Math.round(e);return String(a).length>t&&(o=Math.pow(10,String(a).length-t),a=n?Math.ceil(a/o)*o:Math.round(a/o)*o),a}function f(){var c,s,u,f,h,y,p,g,b,v=e*recipeBaseRatio;for(c in l.textContent=e,Array.from(t).forEach(t=>{t.disabled=e===r}),Array.from(n).forEach(t=>{t.disabled=e===i}),ingredients)ingredients[c].qty=v*ingredients[c].ratio/100;for(c=0;c<o.length;c++)f=o[c].dataset.qty.split(".")[0],b=!1,u=o[c].dataset.mult?+o[c].dataset.mult:1,ingredients[f]&&(s=ingredients[f].qty),"volume"===f&&(b=!0,s="base"===(h=o[c].dataset.qty.split(".")[1])?e:"ml"===ingredients[h].units?ingredients[h].qty:ingredients[h].qty/ingredients[h].spec),"containers"===f&&(b=!0,y=+o[c].dataset.qty.split(".")[1],s=e/y),s=m(s*u,o[c].dataset.prec||d,b),o[c].textContent=s;for(c=0;c<a.length;c++)p=a[c].dataset.plural.split(".")[0],g=a[c].dataset.plural.split(".")[1].split("-"),s=m(ingredients[p].qty),a[c].textContent=g[s>1?1:0]}var h,y,p,g=5,b=document.querySelector("article"),v=document.querySelectorAll("section"),w=document.querySelectorAll(".navdots li"),q=Array.from(v).map(e=>e.id),E=document.getElementById("btn-prev"),k=document.getElementById("btn-next");function A(e,t){clearInterval(p),p=setTimeout(function(){clearInterval(p),p=null},1e3),e.scrollIntoView({behavior:"smooth"}),window.history.replaceState(null,null,t)}function S(e){L(e),A(document.getElementById(q[e-1]),"#"+q[e-1])}function L(e){E.disabled=!(e>1),Array.from(w).forEach(e=>{e.classList.remove("selected")}),w[e-1].classList.add("selected")}function M(){var e=x(1);e.label&&(L(e.num),A(document.getElementById(e.label),"#"+e.label))}function B(){var e=x(-1);e.label&&(L(e.num),A(document.getElementById(e.label),"#"+e.label))}function x(e=0){for(var t=0;t<g&&h.scrollTop>v[t].offsetTop-y/2;)t++;return{num:t+e,label:t+e>0&&t+e<=g?q[t-1+e]:""}}function C(){var e=x(),t=location.hash;e.num<=g?(b.className="section"+e.num,p||t=="#"+e.label||(window.history.replaceState(null,null,"#"+e.label),L(e.num)),k.disabled=e.num>=g):(p||""==t||window.history.replaceState(null,null," "),k.disabled=!0)}function I(){h&&(h.onscroll=null),window.onscroll=null,document.querySelector("nav").offsetWidth<=64?(h=document.querySelector(".main"),y=h.offsetHeight,h.onscroll=C):(h=document.documentElement,y=window.innerHeight,window.onscroll=C),C()}function R(){if(I(),window.onresize=I,k.addEventListener("click",M),E.addEventListener("click",B),k.disabled=!1,location.hash){var e=x();b.className="section"+e.num,L(e.num)}else L(1)}function T(){let e=document.createElement("div");e.classList.add("tooltip"),e.innerHTML=this.dataset.tooltip,document.body.appendChild(e);let t=this.getBoundingClientRect(),n=e.getBoundingClientRect(),o=t.top+(t.height-n.height)/2,a=t.left-n.width-2;e.style.top=o+"px",e.style.left=a+"px"}function D(){Array.from(document.querySelectorAll(".tooltip")).forEach(e=>{document.body.removeChild(e)})}v.length&&(e=recipeBase.qty,"undefined"!=typeof recipeRange&&(i=recipeRange[0],r=recipeRange[1],c=recipeRange[2]),"undefined"!=typeof recipePrecision&&(d=recipePrecision),o=document.querySelectorAll("[data-qty]"),a=document.querySelectorAll("[data-plural]"),l=document.getElementById("qtyValue"),t=document.querySelectorAll(".btn-icon-plus"),n=document.querySelectorAll(".btn-icon-minus"),Array.from(t).forEach(e=>{e.addEventListener("click",u)}),Array.from(n).forEach(e=>{e.addEventListener("click",s)}),f(),Array.from(document.querySelectorAll("[data-tooltip]")).forEach(e=>{e.addEventListener("mouseenter",T),e.addEventListener("mouseleave",D)}),document.onkeydown=function(e){switch((e=e||window.event).keyCode){case 8:document.location="/";break;case 37:case 38:e.preventDefault(),B();break;case 39:case 40:e.preventDefault(),M();break;case 32:case 9:e.preventDefault(),x().num>g-1?S(1):M();break;case 49:S(1);break;case 50:S(2);break;case 51:S(3);break;case 52:S(4);break;case 53:S(5);break;case 189:s();break;case 187:u()}},location.hash?(location=location.hash,setTimeout(function(){R()},1e3)):R())});